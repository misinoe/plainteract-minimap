<!doctype html>
<html>
<body>
  <script src="lib/plainteract-minimap.js"></script>
  <script type="text/javascript">
    const minimap = new Minimap({
      width: 400,
      height: 300
    }, {
      baseDir: '',
      nodeStyle: {
        size: 10,
      }
    });
    document.body.appendChild(minimap.getView());
    minimap.setMinimapData({
      cushion: {
        right: 500,
        top: 500,
        left: 500,
        bottom: 500
      },
      field: {
        scaleX: 1.0,
        scaleY: 1.0
      },
      images: [
        {
          path: 'map.png',
          x: 100,
          width: 500,
          height: 400,
          pivotX: 250,
          pivotY: 200,
          rotation: 1
        }
      ],
      nodes: [
        {
          name: 'position001',
          position: {
            x: 150,
            y: 150,
          },
        },
        {
          name: 'position002',
          position: {
            x: 180,
            y: 180,
          },
        },
        {
          name: 'position003',
          position: {
            x: 800,
            y: 400,
          },
        },
        {
          name: 'styledemo',
          position: {
            x: 700,
            y: 200,
          },
          style: {
            lineWidth: 5,
            lineColor: 0xff0000,
            fillColor: 0x00ff00,
          }
        },
        {
          name: 'arrowDemo',
          type: 'arrow',
          position: {
            x: 500,
            y: 300,
          },
          style: {
            lineWidth: 5,
            lineColor: 0x0000cc,
            fillColor: 0x00ff00,
            size: 20,
          }
        },
        {
          name: 'arrowDemo',
          type: 'arrow',
          position: {
            x: 200,
            y: 300,
            rotation: 45,
          },
          style: {
            lineWidth: 5,
            lineColor: 0x0000cc,
            fillColor: 0x00ff00,
            size: 20,
          }
        },
      ],
    });
    minimap.highlightName = 'hightlightPlace';
    let names = ['position001', 'position002', 'arrowDemo', 'styledemo'];


    setInterval(() => {
      minimap.cornAngle += 0.5;
      minimap.setCornFov(Math.random() * 75);
      minimap.activeNodeName = names[names.length * Math.random() << 0];
      minimap.setCornPositionByNodeName(names[names.length * Math.random() << 0]);

    }, 13);
  </script>
</body>
</html>
